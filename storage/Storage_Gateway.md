# Storage Gateway

- The AWS Storage Gateway service enables hybrid storage between on-premisesenvironments and the AWS Cloud.
- Integrates on-premises enterprise applications and workflows with Amazon’s blockand object cloud storage services through industry standard storage protocols.
- The service stores files as native S3 objects, archives virtual tapes in Amazon Glacier,and stores EBS Snapshots generated by the Volume Gateway with Amazon EBS.
- Implemented using a virtual machine that runs on-premises.

| Gateway| Interface | Use Case |
| -------- | ---------- | -------- | 
| File Gateway| NFS, SMB| Allow on-prem or EC2 instances to store objects in S3 via NFS or SMB mount points | 
| Volume Gateway Stored Mode | iSCSI | Asynchronous replication of on-prem data to S3| 
| Volume Gateway Cached Mode | iSCSI | Primary data stored in S3 with frequently accessed data cached locally on-prem | 
| Tape Gateway | iSCSI |Virtual media changer and tape library for use with existing backup software | 

## File Gateway 
- supports a file interface into S3 and combines a service and a virtual software appliance.
- File gateway supports
  - S3 Standard
  - S3 Standard – Infrequent Access
  - S3 One Zone – IA
- You can store and retrieve files directly using the NFS version 3 or 4.1 protocol.
- You can store and retrieve files directly using the SMB file system version, 2 and 3 protocol.
- You can access your data directly in S3 from any AWS Cloud application or service.
- You can manage your S3 data using lifecycle policies, cross-region replication, and versioning.
- File Gateway now supports Amazon S3 Object Lock, enabling write-once-read-many (WORM) file-based systems to store and access objects in Amazon S3.
- File Gateway local cache can support up to 64TB of data.
## Volume Gateway  
- Provides cloud-backed storage volumes that you can mount as iSCSI devices from your on-premises application servers.
### Cached volumes 
- You store your data in S3 and retain a copy of frequently accessed data subsets locally.
- Cached volumes can range from 1 GiB to 32 TiB in size and must be rounded to the nearest GiB. 
- Each gateway configured for cached volumes can support up to 32 volumes.
### Stored volumes 
- Used when low-latency access to your entire dataset, first configure your on-premises gateway to store all your data locally. 
- Then asynchronously back up point-in-time snapshots of this data to S3. 
- Stored volumes can range from 1 GiB to 16 TiB in size and must be rounded to the nearest GiB. 
- Each gateway configured for stored volumes can support up to 32 volumes.

## Tape Gateway 
- Archive backup data in Amazon Glacier.
- Has a virtual tape library (VTL) interface to store data on virtual tape cartridges that you create.
- Deploy your gateway on an EC2 instance to provision iSCSI storage volumes in AWS.
- The AWS Storage Gateway service integrates Tape Gateway with Amazon S3 Glacier Deep Archive storage class, allowing you to store virtual tapes in the lowest-cost Amazon S3 storage class.
- Tape Gateway also has the capability to move your virtual tapes archived in Amazon S3 Glacier to Amazon S3 Glacier Deep Archive storage class, enabling you to further reduce the monthly cost to store long-term data in the cloud by up to 75%.
Supports Write-Once-Read-Many and Tape Retention Lock on virtual tapes
